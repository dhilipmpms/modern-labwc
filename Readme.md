# Complete Labwc Setup

A ready to use configuration for **Labwc** wayland compositor with 19 preconfigured color schemes + dynamic wallpaper-based color generation using matugen.

---

## ‚ú® Features

- **Preconfigured Themes** - Preconfigured color schemes for labwc, GTK3, GTK4, Rofi, and waybar.
- **Wallpaper-Based Color Generation** - Generate themes from wallpapers using Matugen.
- **Rofi Applets** - Useful Rofi Applets
- **Audio Feedback** - Plays audio on system login and hardware changes.
- **Dynamic Desktop Menu** - A Python-based menu generator that builds beautiful, icon-rich `labwc` root menus with optional custom headers.
- **Idle Management** - Manage screen dimming, locking and device suspension.
- **Immersive Hyprlock** - Matugen-themed lockscreen with 'Now Playing' album art and direct wallpaper background rendering (not simple screenshot).
- **Wallpaper Picker On Steroids** - Handles both images and GIFs. It toggles system theme (dark/light) based on generated color scheme, extracts GIF frame for lockscreen consistency, and analyzes wallpaper brightness to generate readable text colors for Hyprlock.

   **And many more.....**


---

## üé® Preconfigured Themes (20 Total)

<table>
  <tr>
    <td align="center">
      <h5>Tokyo Night, Onedark, Dracula, Catppuccin, Gruvbox, Nord, Everforest, Everforest Light, Solarized Dark, Solarized, Lavender Pastel, Arc, Adapta, Black, Navy, Lovelace, Paper, Cyberpunk, Yousai, and Wallpaper-based.</h5>
    </td>
  </tr>
<tr>
 <td><img src="https://github.com/user-attachments/assets/a090d01a-e89e-41d9-8d57-ef9db4a2b344" width="100%" alt="launcher10"></td>
</tr>
</table>

---

<table>
  <tr>
    <td colspan="2" align="center">
      <h5>Beautiful Labwc Root Menu</h5>
    </td>
  </tr>  
  <tr>
    <td><h6>Without Header</h6><img src="https://github.com/user-attachments/assets/9fe692af-6d6e-41d6-9a1f-a671377cd811" width="100%" alt="launcher10"></td>
    <td><h6>With Header</h6><img src="https://github.com/user-attachments/assets/e0e9d20a-c171-4701-b7f6-268b733ec2ab" width="100%" alt="launcher9"></td>
  </tr>
</table>

---

## Rofi Launchers

<table>
  <tr>
    <td colspan="2" align="center">
      <h6>Rofi Launchers</h6>
    </td>
  </tr>  
  <tr>
    <td><img src="https://github.com/user-attachments/assets/2bf01b16-5133-41f9-b02c-1898ad59fef3" width="100%" alt="launcher10"></td>
    <td><img src="https://github.com/user-attachments/assets/6a4b8384-5bb5-4a31-aeb0-497a372ff6d1" width="100%" alt="launcher9"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/12dd4fa5-3081-4d50-a526-153c2445c998" width="100%" alt="launcher8"></td>
    <td><img src="https://github.com/user-attachments/assets/bb6053bc-64d6-446b-a812-119b60d70809" width="100%" alt="launcher7"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/10a1db31-4672-4125-969d-e2a8e9611c11" width="100%" alt="launcher6"></td>
    <td><img src="https://github.com/user-attachments/assets/6e4bafe4-b262-490b-92e2-9578899a41bc" width="100%" alt="launcher5"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/356e4410-9c0c-4e9b-b215-2cc399b9ab80" width="100%" alt="launcher4"></td>
    <td><img src="https://github.com/user-attachments/assets/e6aa844e-d9ad-48cd-8abe-add5221bd291" width="100%" alt="launcher3"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/dae41bc2-db4e-42cf-834e-7c901230dc2f" width="100%" alt="launcher2"></td>
    <td><img src="https://github.com/user-attachments/assets/813b093f-0638-40ca-883b-bfd615dbc815" width="100%" alt="launcher1"></td>
  </tr>
</table>

---

<table>
  <tr>
    <td colspan="2" align="center">
      <h6>Rofi Powermenus</h6>
    </td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/63ef714b-339a-4f24-910f-39063ca9901d" width="100%" alt="pm1"></td>
    <td><img src="https://github.com/user-attachments/assets/34ac5343-d1e8-4dda-bdde-02d18860ed31" width="100%" alt="pm2"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/8d234137-a551-4b79-af26-25aa4ab5994f" width="100%" alt="pm3"></td>
    <td><img src="https://github.com/user-attachments/assets/e208c391-66ae-493b-a4b4-00c7b833b0ab" width="100%" alt="pm4"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/6fa0ef70-9857-47ef-adc7-459a801e5bfb" width="100%" alt="pm5"></td>
    <td><img src="https://github.com/user-attachments/assets/81155fec-a7a5-4e71-b697-39b0a3f4df45" width="100%" alt="pm6"></td>
  </tr>
  <tr>
    <td><img src="https://github.com/user-attachments/assets/e47197f3-04be-43bd-afeb-6eeba9570435" width="100%" alt="pm7"></td>
    <td><img src="https://github.com/user-attachments/assets/36122913-484f-4e04-bad0-1a1a7c7dd98a" width="100%" alt="pm8"></td>
  </tr>
</table>

---

## Waybar

<table> 
  <tr>
    <td colspan="2" align="center">
      <h6>Caps Lock ON</h6>
      <img src="https://github.com/user-attachments/assets/e6bc5bef-359c-4715-9b87-25700bf36e1b" width="100%" alt="Caps Lock ON">
    </td>
  </tr>
  <tr>
    <td colspan="2" align="center">
      <h6>Compact Pill</h6>
      <img src="https://github.com/user-attachments/assets/08f4fb75-5470-4e34-bec7-500449e2a385" width="100%" alt="Compact Pill">
    </td>
  </tr>
  <tr>
    <td colspan="2" align="center">
      <h6>Pill</h6>
      <img src="https://github.com/user-attachments/assets/dde66362-c0cd-439f-b22d-8cd5c82e9a1a" width="100%" alt="Pill">
    </td>
  </tr>
  <tr>
    <td colspan="2" align="center">
      <h6>Square</h6>
      <img src="https://github.com/user-attachments/assets/1609929a-9d09-4e9b-a393-710ffda6c7d1" width="100%" alt="Square">
    </td>
  </tr>
  <tr>
    <td colspan="2" align="center">
      <h6>Outline</h6>
      <img src="https://github.com/user-attachments/assets/54131236-9d1f-403c-8219-0d684e591809" width="100%" alt="Outline">
    </td>
  </tr>
  <tr>
    <td colspan="2" align="center">
      <h6>Standard</h6>
      <img src="https://github.com/user-attachments/assets/46bb7698-7cdb-4043-982b-e20f61240b6a" width="100%" alt="Standard">
    </td>
  </tr>
  <tr>
    <td width="50%" align="center">
      <h6>Waybar Customization</h6>      
      <video src="https://github.com/user-attachments/assets/e5012ace-2f97-4851-abf2-6c24fcae5005" controls="controls" style="max-width: 100%;"></video>
    </td>    
    <td width="50%" align="center">
      <h6>Change System Theme From Waybar</h6>
      <img src="https://github.com/user-attachments/assets/f5dc93d5-157f-4104-95fb-100fd733ca00" width="100%" alt="image" />
    </td>
  </tr>
</table>



---

## Rofi Applets

<table>
 <tr>
    <td colspan="2" align="center">
      <h6>Wallpaper Picker</h6>
    </td>
  </tr>    
  <tr>
    <td align="center"><img src="https://github.com/user-attachments/assets/16c61848-88e1-49f6-bad9-cf69a048f0bc" width="100%" alt="wallselect"></td>
    <td align="center"><img src="https://github.com/user-attachments/assets/99052231-6865-4e05-b5cd-bc62d01ef06a" width="100%" alt="wallselect"></td>
  </tr>
</table>

<table>
  <tr>
    <td width="50%" align="center">
      <h6>Rofi WIFI Manager</h6>
      <video src="https://github.com/user-attachments/assets/779cb6fa-7909-4df0-9d58-5d9d525d3b18" controls="controls" style="max-width: 100%;"></video>
    </td>
    <td width="50%" align="center">
      <h6>Rofi Nowplaying</h6>
      <video src="https://github.com/user-attachments/assets/9426fdae-8a95-4335-972e-11dd9aaa1762" controls="controls" style="max-width: 100%;"></video>
    </td>
  </tr>
</table>

<table>
  <tr>
    <td width="50%" align="center">
      <h6>Rofi Clipboard Manager</h6>
      <video src="https://github.com/user-attachments/assets/bc4f54b8-6bb6-4a74-96db-2ca61d81e915" controls="controls" style="max-width: 100%;"></video>
    </td>
    <td width="50%" align="center">
      <h6>Rofi Nightlight</h6>
      <video src="https://github.com/user-attachments/assets/11784326-a632-456d-a01c-0ad04f59d83b" controls="controls" style="max-width: 100%;"></video>
    </td>
  </tr>
</table>

<table>
  <tr>
    <td colspan="3" align="center">
      <h6>Rofi Screen Tool</h6>
    </td>
  </tr>  
  <tr>
    <td align="center">
      <h6>Recording Thumbnail</h6>
      <img src="https://github.com/user-attachments/assets/66757cca-3feb-4080-b832-9972bc87d675" width="100%">
    </td>
    <td align="center">
      <h6>Screenshot Save</h6>
      <img src="https://github.com/user-attachments/assets/b55b5e35-360d-4c1f-aab0-13e88de17074" width="100%">
    </td>
    <td align="center">
      <h6>Screenshot Copied</h6>
      <img src="https://github.com/user-attachments/assets/cb97e7fd-4218-48ef-897f-bad77e97939a" width="100%">
    </td>
  </tr>
  <tr>
    <td colspan="3" align="center">
      <video src="https://github.com/user-attachments/assets/3ea9bfa6-5348-4d1e-a7a1-1ed885b7a2c6" controls="controls" style="max-width: 100%;"></video>
    </td>
  </tr>
</table>

---

## Hyprlock

<table>
  <tr>
    <td colspan="3" align="center">
      <h6>Hyprlock With Matugen and Dynamic Nowplaying With albumart</h6>
    </td>
  </tr>
  <tr>
    <td align="center">
      <h6>Nothing Playing Clean Look</h6>
      <img src="https://github.com/user-attachments/assets/67d58c10-5324-4365-922c-0da4bb15f6e0" width="100%">
    </td>    
    <td align="center">
      <h6>Lock Screen With Albumart</h6>
      <img src="https://github.com/user-attachments/assets/e6592c97-4b73-4ba6-b290-90bb89f1ea1a" width="100%">
    </td>
    <td align="center">
      <h6>Fallback Albumart</h6>
      <img src="https://github.com/user-attachments/assets/c2702797-a553-47f3-924f-ed50e172f966" width="100%">
    </td>
  </tr>
  <tr>
    <td colspan="3" align="center">
      <video src="https://github.com/user-attachments/assets/e68fd9ec-675a-49fa-8df6-c1aab044256a" controls="controls" style="max-width: 100%;"></video>
    </td>
  </tr>
</table>

---

## Mpv

<table>
  <tr>
    <td colspan="2" align="center">
      <h6>Mpv With Matugen And Modern Look</h6>
    </td>
  </tr>  
  <tr>
    <td><img src="https://github.com/user-attachments/assets/9c7bc7a5-6ce6-4128-b1b8-5a46e94de633" width="100%" alt="mpv2"></td>
    <td><img src="https://github.com/user-attachments/assets/eef3d42f-9b0f-47c1-aced-c4af8e262c44" width="100%" alt="mpv1"></td>
  </tr>
</table>

---

## Installation

### üéØ Automated Installation (Recommended)

The setup script now supports **Arch Linux**, **Ubuntu**, **Debian**, and their derivatives!

```bash
git clone https://github.com/Harsh-bin/modern-labwc/
cd modern-labwc
chmod +x setup.sh
./setup.sh
```

The script will:
- ‚úÖ **Auto-detect** your distribution
- ‚úÖ **Install** available packages (supports **Arch**, **Ubuntu**, **Debian**)
- ‚úÖ **Build/Download** missing packages automatically (LabWC via PPA on Ubuntu, Matugen/Cliphist binaries)
- ‚úÖ **Deploy** all configurations, fonts, and themes
- ‚úÖ **Set up** your desktop environment

---

### üì¶ Distribution-Specific Notes

#### **Arch Linux**
All packages are available in official repositories or AUR. Installation is quick and straightforward.

#### **Ubuntu 24.04 / Debian**
The setup script detects your OS and handles dependencies automatically:
- **LabWC**: Installed via **official PPA** on Ubuntu (compiled from source on Debian).
- **Binaries**: **Matugen**, **Cliphist**, and **adw-gtk3** are downloaded from GitHub releases (no compilation needed).
- **Source Builds**: **Hyprlock** and **Swww** are automatically compiled from source.

**Build Requirements:**
- Rust/Cargo (only for swww/hyprlock)
- Essential build tools (automatically installed)

The script handles all of this for you!

---

### üõ†Ô∏è Manual Installation

If you prefer manual installation:

1. **Install dependencies** (see list below)
2. **Copy config files:**
   ```bash
   cp -r config/* ~/.config/
   ```
3. **Install fonts:**
   ```bash
   tar -xJf fonts.tar.xz -C ~/.local/share/
   fc-cache -fv
   ```
4. **Install theme:**
   ```bash
   cp -r matugen-labwc ~/.themes/
   ```

---


## Dependencies

### Arch Linux Packages

Run `./setup.sh` to automatically install all dependencies.

**Core Packages:**
`labwc`, `waybar`, `rofi`, `matugen`, `dunst`, `swww`, `swayidle`, `hyprlock`, `foot`

**Utilities:**
`wl-clipboard`, `cliphist`, `wl-clip-persist`, `wf-recorder`, `grim`, `slurp`, `playerctl`, `imagemagick`, `ffmpegthumbnailer`, `ffmpeg`

**System:**
`polkit-gnome`, `gnome-keyring`, `qt5-wayland`, `qt6-wayland`, `nm-connection-editor`, `gammastep`

**Fonts & Themes:**
`otf-font-awesome`, `inter-font`, `ttf-roboto`, `papirus-icon-theme`, `adw-gtk-theme`

---

### Ubuntu/Debian Packages

**Available in Repositories:**
```bash
sudo apt-get install waybar rofi dunst swayidle foot wl-clipboard \
  wf-recorder grim slurp playerctl imagemagick ffmpegthumbnailer ffmpeg \
  policykit-1-gnome gnome-keyring qtwayland5 qt6-wayland \
  network-manager-gnome gammastep fonts-font-awesome fonts-inter \
  fonts-roboto papirus-icon-theme gnome-themes-extra
```

**Needs Building/Manual Install:**
- **labwc** - PPA (Ubuntu) or Source (Debian)
- **matugen** - GitHub Binary
- **cliphist** - GitHub Binary
- **adw-gtk3** - GitHub Release
- **hyprlock** - Built from source
- **swww** - Built from source

> **üí° Tip:** The `./setup.sh` script automates ALL of this via `build-deps-ubuntu.sh`. You don't need to do anything manually!

---

### üîß Build Dependencies (Ubuntu/Debian)

If building manually, install these first:
```bash
sudo apt-get install build-essential meson ninja-build cmake pkg-config \
  libwayland-dev wayland-protocols libwlroots-dev libxkbcommon-dev \
  libcairo2-dev libpango1.0-dev libglib2.0-dev libpixman-1-dev \
  libinput-dev libxml2-dev libdrm-dev libjson-c-dev libseat-dev \
  scdoc git curl wget golang-go
```

**For Rust packages (matugen, swww):**
```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env
```

---

## üîß Troubleshooting

### Rofi Dialogs Not Responding

**Issue:** The setup shows a dialog but clicking doesn't work.

**Solution:** Rofi dialogs are keyboard-driven:
- Use **Arrow Keys** or **Tab** to navigate
- Press **Enter** to select
- Press **Escape** to cancel

The setup script automatically falls back to terminal prompts if rofi isn't available.

### Running Setup Inside vs Outside Labwc

The `setup.sh` script behaves differently depending on where you run it:

**Outside labwc (before first login):**
- Installs packages and configurations
- Skips interactive dialogs
- Generates default menu

**Inside labwc (after logging in):**
- Starts background services
- Shows interactive rofi dialogs
- Launches wallpaper selector
- Customizes waybar

**Recommended workflow for Ubuntu:**
1. Run `./setup.sh` once to install everything
2. Log out and select labwc session
3. Log in to labwc
4. Run `./setup.sh` again for interactive customization

### Manual Menu Generation

If you want to regenerate the desktop menu:

```bash
# With footer:
python3 ~/.config/labwc/menu-generator.py -o ~/.config/labwc/menu.xml

# Without footer:
python3 ~/.config/labwc/menu-generator.py -f false -o ~/.config/labwc/menu.xml

# Reload labwc to see changes:
labwc --reconfigure
```

## üîÑ Revert Changes

To uninstall or revert changes, simply remove the configuration folders and packages.

**1. Remove Configs:**
```bash
rm -rf ~/.config/labwc ~/.config/waybar ~/.config/rofi ~/.config/dunst \
       ~/.config/foot ~/.config/hypr
```

**2. Remove Themes & Fonts:**
```bash
rm -rf ~/.themes/matugen-labwc ~/.themes/adw-gtk3*
rm -rf ~/.local/share/fonts/Iosevka* ~/.local/share/fonts/JetBrainsMono*
```

**3. Uninstall Packages:**
- **Arch:** `sudo pacman -Rns labwc waybar rofi dunst foot swww hyprlock matugen`
- **Ubuntu/Debian:** `sudo apt remove labwc waybar rofi dunst foot` (Manually remove binary installs like swww, hybrids, matugen from `/usr/local/bin`)

---

## ü§ù Contributing

I am happy to collaborate! Feel free to contribute to this project in any way you can.
Whether it's fixing a bug, adding a new feature, or even a small change like enhancing README, every contribution matters and is highly appreciated.

**Enjoy your beautifully themed Labwc desktop! üéâ**



## Credits

Rofi launcher and powermenu [adi1090x](https://github.com/adi1090x)

Matugen [InioX](https://github.com/InioX)

